export const translations = {
  en: {
    // App
    appTitle: "RWA Sathi",
    
    // Navigation
    home: "Home",
    bills: "Bills",
    issues: "Issues",
    notices: "Notices",
    
    // Common
    loading: "Loading...",
    error: "Error",
    submit: "Submit",
    cancel: "Cancel",
    save: "Save",
    delete: "Delete",
    edit: "Edit",
    view: "View",
    close: "Close",
    
    // Auth
    login: "Login",
    logout: "Logout",
    phoneNumber: "Phone Number",
    enterPhoneNumber: "Enter your phone number",
    enterOTP: "Enter OTP",
    verifyOTP: "Verify OTP",
    name: "Name",
    flatNumber: "Flat Number",
    tower: "Tower",
    
    // Dashboard
    welcomeAdmin: "Welcome, Admin",
    welcomeBack: "Welcome Back",
    totalFlats: "Total Flats",
    pendingDues: "Pending Dues",
    openIssues: "Open Issues",
    currentBillStatus: "Current Bill Status",
    due: "Due",
    
    // Quick Actions
    generateBills: "Generate Bills",
    postNotice: "Post Notice",
    manageResidents: "Manage Residents",
    viewReports: "View Reports",
    viewBills: "View Bills",
    reportIssue: "Report Issue",
    
    // Activities
    recentActivities: "Recent Activities",
    pendingActions: "Pending Actions",
    highPriority: "High Priority",
    dueTomorrow: "Due Tomorrow",
    review: "Review",
    generate: "Generate",
    
    // Bills
    maintenanceBilling: "Maintenance Billing",
    collectedThisMonth: "Collected This Month",
    pendingCollection: "Pending Collection",
    allFlats: "All Flats",
    paid: "Paid",
    unpaid: "Unpaid",
    overdue: "Overdue",
    
    // Complaints
    complaintsManagement: "Complaints Management",
    submitComplaint: "Submit Complaint",
    myComplaints: "My Complaints",
    complaintType: "Complaint Type",
    subject: "Subject",
    description: "Description",
    attachPhoto: "Attach Photo (Optional)",
    tapToAddPhoto: "Tap to add photo",
    open: "Open",
    inProgress: "In Progress",
    resolved: "Resolved",
    markInProgress: "Mark In Progress",
    markResolved: "Mark Resolved",
    
    // Complaint Types
    maintenance: "Maintenance Issue",
    electrical: "Electrical Problem",
    plumbing: "Plumbing Issue",
    security: "Security Concern",
    other: "Other",
    
    // Notices
    latestNotices: "Latest Notices",
    
    // Profile
    viewProfile: "View Profile",
    language: "Language",
    settings: "Settings",
    
    // Status
    status: "Status",
    submitted: "Submitted",
    posted: "Posted",
    
    // Time
    hoursAgo: "hours ago",
    daysAgo: "days ago",
    weekAgo: "week ago",
    monthAgo: "month ago",
  },
  te: {
    // App
    appTitle: "RWA సతి",
    
    // Navigation
    home: "హోమ్",
    bills: "బిల్లులు",
    issues: "సమస్యలు",
    notices: "నోటీసులు",
    
    // Common
    loading: "లోడ్ అవుతోంది...",
    error: "ఎర్రర్",
    submit: "సమర్పించు",
    cancel: "రద్దు",
    save: "సేవ్",
    delete: "తొలగించు",
    edit: "సవరించు",
    view: "చూడు",
    close: "మూసివేయి",
    
    // Auth
    login: "లాగిన్",
    logout: "లాగౌట్",
    phoneNumber: "ఫోన్ నంబర్",
    enterPhoneNumber: "మీ ఫోన్ నంబర్ ఎంటర్ చేయండి",
    enterOTP: "OTP ఎంటర్ చేయండి",
    verifyOTP: "OTP వెరిఫై చేయండి",
    name: "పేరు",
    flatNumber: "ఫ్లాట్ నంబర్",
    tower: "టవర్",
    
    // Dashboard
    welcomeAdmin: "స్వాగతం, అడ్మిన్",
    welcomeBack: "మళ్లీ స్వాగతం",
    totalFlats: "మొత్తం ఫ్లాట్లు",
    pendingDues: "మిగిలిన బకాయిలు",
    openIssues: "అపెన్ సమస్యలు",
    currentBillStatus: "ప్రస్తుత బిల్లు స్థితి",
    due: "బకాయి",
    
    // Quick Actions
    generateBills: "బిల్లులు జెనరేట్ చేయండి",
    postNotice: "నోటీసు పోస్ట్ చేయండి",
    manageResidents: "నివాసితులను నిర్వహించండి",
    viewReports: "రిపోర్టులు చూడండి",
    viewBills: "బిల్లులు చూడండి",
    reportIssue: "సమస్య నివేదించండి",
    
    // Activities
    recentActivities: "ఇటీవలి కార్యకలాపాలు",
    pendingActions: "పెండింగ్ చర్యలు",
    highPriority: "అధిక ప్రాధాన్యత",
    dueTomorrow: "రేపు గడువు",
    review: "సమీక్షించు",
    generate: "జెనరేట్",
    
    // Bills
    maintenanceBilling: "మెయింటెనెన్స్ బిలింగ్",
    collectedThisMonth: "ఈ నెలలో వసూలు",
    pendingCollection: "వసూలు కాని మొత్తం",
    allFlats: "అన్ని ఫ్లాట్లు",
    paid: "చెల్లించినవి",
    unpaid: "చెల్లించనివి",
    overdue: "గడువు దాటినవి",
    
    // Complaints
    complaintsManagement: "ఫిర్యాదుల నిర్వహణ",
    submitComplaint: "ఫిర్యాదు సమర్పించండి",
    myComplaints: "నా ఫిర్యాదులు",
    complaintType: "ఫిర్యాదు రకం",
    subject: "విషయం",
    description: "వివరణ",
    attachPhoto: "ఫోటో అటాచ్ చేయండి (ఐచ్ఛికం)",
    tapToAddPhoto: "ఫోటో జోడించడానికి టాప్ చేయండి",
    open: "అపెన్",
    inProgress: "ప్రగతిలో",
    resolved: "పరిష్కరించబడింది",
    markInProgress: "ప్రగతిలో మార్క్ చేయండి",
    markResolved: "పరిష్కరించబడిందిగా మార్క్ చేయండి",
    
    // Complaint Types
    maintenance: "మెయింటెనెన్స్ సమస్య",
    electrical: "ఎలక్ట్రికల్ సమస్య",
    plumbing: "ప్లంబింగ్ సమస్య",
    security: "సెక్యూరిటీ సమస్య",
    other: "ఇతర",
    
    // Notices
    latestNotices: "తాజా నోటీసులు",
    
    // Profile
    viewProfile: "ప్రొఫైల్ చూడండి",
    language: "భాష",
    settings: "సెట్టింగ్స్",
    
    // Status
    status: "స్థితి",
    submitted: "సమర్పించబడింది",
    posted: "పోస్ట్ చేయబడింది",
    
    // Time
    hoursAgo: "గంటల క్రితం",
    daysAgo: "రోజుల క్రితం",
    weekAgo: "వారం క్రితం",
    monthAgo: "నెల క్రితం",
  },
};

export type Language = keyof typeof translations;
export type TranslationKey = keyof typeof translations.en;

let currentLanguage: Language = 'en';

export const setLanguage = (lang: Language) => {
  currentLanguage = lang;
  localStorage.setItem('language', lang);
};

export const getLanguage = (): Language => {
  const saved = localStorage.getItem('language') as Language;
  return saved && translations[saved] ? saved : 'en';
};

export const t = (key: string): string => {
  // We intentionally accept any string so that callers can use keys that
  // are not yet present in the union derived from the default locale.
  // If the key is not found, we gracefully fall back to the key itself.
  // This avoids TypeScript errors while still providing runtime safety.
  //
  // NOTE: Keep TranslationKey type export above for places where a more
  // constrained set of keys is desired.
  // eslint-disable-next-line @typescript-eslint/consistent-type-assertions
  const k = key as keyof typeof translations.en;
  return (
    (translations[currentLanguage] as Record<string, string>)[key] ||
    translations.en[k] ||
    key
  );
};

// Initialize language
currentLanguage = getLanguage();
